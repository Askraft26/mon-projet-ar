<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feux dâ€™artifice AR</title>

    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>

    <!-- AR.js pour la rÃ©alitÃ© augmentÃ©e -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

    <!-- Shader pour GIF animÃ©s -->
    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
  </head>

  <body style="margin: 0; overflow: hidden;">
    <!-- Bouton pour activer le son -->
    <button id="unmuteBtn" style="position:fixed;top:10px;left:50%;transform:translateX(-50%);z-index:999;padding:10px 20px;">
      ðŸ”Š Activer le son
    </button>

    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
      <a-assets>
        <!-- VidÃ©o principale -->
        <video id="vid" src="WhatsApp Video 2025-12-31 at 22.42.38.mp4" autoplay loop muted playsinline crossorigin="anonymous"></video>

        <!-- GIFs de feux dâ€™artifice -->
        <img id="firework1" src="firework-7791_256.gif">
        <img id="firework2" src="https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif">
        <img id="firework3" src="https://media.giphy.com/media/l41lTjl9KXZSb59W/giphy.gif">
      </a-assets>

      <!-- Marker Hiro -->
      <a-marker preset="hiro">
        <!-- VidÃ©o affichÃ©e sur le marker -->
        <a-video id="videoPlane" src="#vid" width="4" height="2" position="0 0 0"></a-video>

        <!-- Feux dâ€™artifice animÃ©s (cachÃ©s au dÃ©part) -->
        <a-image id="fw1" src="#firework1" shader="gif" position="-1 1 0" width="1.5" height="1.5" visible="false"></a-image>
        <a-image id="fw2" src="#firework2" shader="gif" position="1 1 0" width="1.5" height="1.5" visible="false"></a-image>
        <a-image id="fw3" src="#firework3" shader="gif" position="0 2 0" width="2" height="2" visible="false"></a-image>
      </a-marker>

      <!-- CamÃ©ra AR -->
      <a-entity camera></a-entity>
    </a-scene>

    <script>
      const video = document.getElementById('vid');
      const fw1 = document.getElementById('fw1');
      const fw2 = document.getElementById('fw2');
      const fw3 = document.getElementById('fw3');

      // Quand la vidÃ©o dÃ©marre, on affiche les GIFs
      video.addEventListener('play', () => {
        fw1.setAttribute('visible', true);
        fw2.setAttribute('visible', true);
        fw3.setAttribute('visible', true);
      });

      // Bouton pour activer le son
      document.getElementById('unmuteBtn').addEventListener('click', () => {
        video.muted = false;
        video.play();
      });
    </script>
  </body>
</html>
